(function(e){e.fn.a11ycarousel=function(t){var n;var r;var i=0;var s=false;var o;var u;var a=null;var f=null;var l=e.extend({width:600,height:300,autoPlay:false,playInterval:9e3,slideSpeed:1e3,easing:"ease",additionalControlHeight:0},t);var c=function(t){if(a!==null&&f!==null){e(r).css(a,"translateX("+t*l.width*-1+"px)")}else if(f!==null){e(r).css({left:t*l.width*-1+"px"})}else{e(r).animate({left:t*l.width*-1},l.slideSpeed)}e(n).find(".controls li button").each(function(){e(this).removeClass("active")});var i=e(n).find(".controls li button")[t];e(i).addClass("active")};var h=function(e){clearTimeout(o);i=e.target.value-1;c(i);if(s){o=setTimeout(p,l.playInterval)}};var p=function(){i++;if(i>=u){i=0}c(i);o=setTimeout(p,l.playInterval)};var d=function(){if(s){clearTimeout(o)}else{o=setTimeout(p,500)}s=!s;e(n).find(".toggle-play").val(s?"Pause":"Play");e(n).find(".toggle-play").prop("title",s?"Pause the slideshow":"Play the slideshow");return false};var v=function(){var e=document.createElement("tst").style;var t=["transform","WebkitTransform","MozTransform","OTransform","msTransform"];var n=["transform","-webkit-transform","-moz-transform","-o-transform","-ms-transform"];for(var r=0;r<t.length;r++){if(e[t[r]]!==undefined){a=n[r];break}}var i=["transition","WebkitTransition","MozTransition","OTransition","msTransition"];var s=["transition","-webkit-transition","-moz-transition","-o-transition","-ms-transition"];for(var r=0;r<i.length;r++){if(e[i[r]]!==undefined){f=s[r];break}}};n=this;r=e(n).find("ul")[0];u=e(r).find("li").length;e(n).width(l.width).height(l.height+l.additionalControlHeight).css({overflow:"hidden",position:"relative"}).addClass("carousel-container");e(r).width(u*l.width).height(l.height).css({overflow:"hidden",position:"absolute",top:0,left:0,margin:0,padding:0,"list-style-type":"none"});e(r).find("li").each(function(){e(this).width(l.width).height(l.height).css({overflow:"hidden","float":"left",position:"relative",margin:0,padding:0,"list-style-type":"none"})});v();if(a!==null&&f!==null){e(r).css(f,a+" "+l.slideSpeed/1e3+"s "+l.easing)}else if(f!==null){e(r).css(f,"left "+l.slideSpeed/1e3+"s "+l.easing)}if(u>1){e(n).prepend('<div class="controls"></div>');var m=e(n).find(".controls");e(m).append('<div class="offscreen">The following controls have a visual effect only</div>');e(m).append('<input type="button" class="toggle-play" value="'+(l.autoPlay?"Pause":"Play")+'" title="'+(l.autoPlay?"Pause":"Play")+' the carousel" />');e(m).find(".toggle-play").click(d);e(m).append("<ul></ul>").css({"z-index":1e3,position:"absolute"});for(var g=0;g<u;g++){e(m).find("ul").append("<li><button"+(g==0?' class="active"':"")+' type="button" value="'+(g+1)+'" title="Go to slide '+(g+1)+'">'+(g+1)+"</button></li>")}e(m).find("ul").width(e(m).find("li").first().width()*u);e(m).find("li button").click(h);if(l.autoPlay){s=true;o=setTimeout(p,l.playInterval)}}return this}})(jQuery)